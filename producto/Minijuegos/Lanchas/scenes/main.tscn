[gd_scene load_steps=19 format=2]

[ext_resource path="res://Minijuegos/Lanchas/scenes/main.gd" type="Script" id=1]
[ext_resource path="res://assets/img/barco-top.png" type="Texture" id=2]
[ext_resource path="res://Minijuegos/Lanchas/scenes/SeaScript.gd" type="Script" id=3]
[ext_resource path="res://Minijuegos/Lanchas/scenes/boat-move.gd" type="Script" id=4]
[ext_resource path="res://Minijuegos/Lanchas/etc/game_over_gui.tscn" type="PackedScene" id=5]
[ext_resource path="res://Minijuegos/Lanchas/scenes/ship-gen.gd" type="Script" id=6]
[ext_resource path="res://Minijuegos/Lanchas/assets/fonts/pirate.tres" type="DynamicFont" id=7]
[ext_resource path="res://Minijuegos/Lanchas/assets/puerto_map.png" type="Texture" id=9]
[ext_resource path="res://Minijuegos/Lanchas/LoboMarino.tscn" type="PackedScene" id=11]
[ext_resource path="res://Minijuegos/Lanchas/Ship.tscn" type="PackedScene" id=12]
[ext_resource path="res://Minijuegos/Lanchas/etc/DialogUI.tscn" type="PackedScene" id=13]

[sub_resource type="Animation" id=1]
resource_name = "SeaWaves"
length = 2.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1, 2 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( -314.414, -1179.77 ), Vector2( -330, -1179.77 ), Vector2( -314.414, -1179.77 ) ]
}

[sub_resource type="CapsuleShape2D" id=2]
radius = 5.77269
height = 12.7344

[sub_resource type="CapsuleShape2D" id=3]
radius = 6.89392
height = 12.7344

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 198.143, 2282.39 )

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 87.6999, 447.385 )

[sub_resource type="RectangleShape2D" id=6]
extents = Vector2( 87.6999, 447.385 )

[sub_resource type="RectangleShape2D" id=7]
extents = Vector2( 638.018, 104.094 )

[node name="Main" type="Node2D"]
script = ExtResource( 1 )

[node name="MapMesh" type="StaticBody2D" parent="." groups=[
"scenary",
]]
position = Vector2( -316.212, -1179.77 )
rotation = -2.25464
scale = Vector2( 6.57007, 6.57007 )
collision_layer = 8
script = ExtResource( 3 )

[node name="Sprite" type="Sprite" parent="MapMesh"]
position = Vector2( 16.7789, -336.597 )
rotation = 0.00872665
scale = Vector2( 0.258094, 0.258094 )
texture = ExtResource( 9 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="MapMesh"]
polygon = PoolVector2Array( -78.7779, -314.431, 132.209, -146.396, 126.679, -135.937, 56.8733, -171.996, -12.4218, -228.474, -39.1978, -166.744, -33.5741, -111.558, -39.5722, -109.974, -45.2613, -165.802, -28.9099, -224.849, -140.578, -311.223, -217.666, -173.891, -159.529, -140.794, -97.6512, -201.318, -86.1129, -195.216, -152.44, -115.862, -210.13, -107.072, -221.352, -60.0797, -213.016, -13.9884, -157.325, -19.7127, -157.415, -12.9226, -190.526, -7.54705, -186.47, 28.3186, -209.179, 34.5229, -208.41, 2.64464, -258.465, 15.1255, -269.296, 44.7276, -285.902, 69.9978, -250.533, 64.5718, -234.836, 77.054, -233.174, 101.785, -223.249, 118.29, -206.91, 126.149, -179.045, 128.48, -163.543, 154.683, -190.303, 191.125, -215.004, 212.768, -286.624, 216.564, -214.423, 212.954, -206.56, 232.007, -263.519, 254.831, -264.241, 275.047, -193.485, 265.661, -205.853, 232.584, -168.215, 259.885, -87.3507, 185.518, -101.069, 155.194, -114.2, 164.891, -132.751, 129.176, -122.729, 126.314, -102.513, 133.534, -84.4627, 176.854, 10.1198, 45.4496, 98.9262, -30.3607, 238.324, -93.9184, 658.555, -358.302, 652.126, 316.652, -118.094, 315.746, -633.815, 320.115, -631.516, -753.074, -60.0137, -779.032, 667.012, -796.064, 657.996, -355.76, 549.322, -289.733, 403.399, -634.34 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="MapMesh"]
anims/SeaWaves = SubResource( 1 )

[node name="EntityGenerator" type="Node2D" parent="."]
script = ExtResource( 6 )
SHIP = ExtResource( 12 )
LOBO = ExtResource( 11 )

[node name="Boat" type="KinematicBody2D" parent="."]
position = Vector2( 1500, -1200 )
rotation = 1.5708
collision_mask = 27
script = ExtResource( 4 )
speed = 20

[node name="Camera2D" type="Camera2D" parent="Boat"]
rotation = 4.71239
current = true

[node name="sprite" type="Sprite" parent="Boat"]
rotation = -1.42109e-14
scale = Vector2( 0.972945, 0.972945 )
texture = ExtResource( 2 )

[node name="col" type="CollisionShape2D" parent="Boat"]
visible = false
scale = Vector2( 6, 6 )
shape = SubResource( 2 )

[node name="Area2D" type="Area2D" parent="Boat"]

[node name="col2" type="CollisionShape2D" parent="Boat/Area2D"]
position = Vector2( -0.841187, -1.68176 )
scale = Vector2( 6, 6 )
shape = SubResource( 3 )

[node name="GameOverUI" parent="." instance=ExtResource( 5 )]

[node name="UI" type="CanvasLayer" parent="."]

[node name="Score" type="Label" parent="UI"]
margin_left = 28.364
margin_top = 575.462
margin_right = 571.364
margin_bottom = 676.465
rect_rotation = -89.9999
custom_fonts/font = ExtResource( 7 )
custom_colors/font_color = Color( 0.968627, 0.941176, 0.941176, 1 )
text = "Integridad Lancha"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="HealthBarBG" type="ColorRect" parent="UI"]
margin_left = 93.0
margin_top = 577.0
margin_right = 568.0
margin_bottom = 633.0
rect_rotation = -89.9999
__meta__ = {
"_edit_use_anchors_": false
}

[node name="HealthBar" type="ColorRect" parent="UI"]
margin_left = 98.0
margin_top = 572.0
margin_right = 563.0
margin_bottom = 618.0
rect_rotation = -89.9999
color = Color( 0.960784, 0.247059, 0.247059, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Score2" type="Label" parent="UI"]
margin_left = 880.496
margin_top = 556.419
margin_right = 1423.5
margin_bottom = 657.422
rect_rotation = -89.9999
custom_fonts/font = ExtResource( 7 )
custom_colors/font_color = Color( 0.968627, 0.941176, 0.941176, 1 )
text = "Progreso Viaje"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ProgressBarBG" type="ColorRect" parent="UI"]
margin_left = 946.842
margin_top = 570.813
margin_right = 1421.84
margin_bottom = 626.813
rect_rotation = -89.9999
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ProgressBar" type="ColorRect" parent="UI"]
margin_left = 952.033
margin_top = 565.85
margin_right = 1417.03
margin_bottom = 611.85
rect_rotation = -89.9999
color = Color( 0.247059, 0.52549, 0.960784, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="DialogUI" parent="UI" instance=ExtResource( 13 )]
margin_right = 325.49
margin_bottom = 317.755

[node name="AreaMarAbierto" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="AreaMarAbierto"]
position = Vector2( -2484.02, -1090.1 )
shape = SubResource( 4 )

[node name="Lobos" type="Node2D" parent="."]

[node name="Lobo3" parent="Lobos" instance=ExtResource( 11 )]
position = Vector2( -26.9392, -736.335 )
speed_mult = 0
size = 2

[node name="Lobo4" parent="Lobos" instance=ExtResource( 11 )]
position = Vector2( -94.2869, -1153.89 )
speed_mult = 0
size = 2

[node name="Lobo5" parent="Lobos" instance=ExtResource( 11 )]
position = Vector2( -395.107, -350.208 )
speed_mult = 0
size = 5

[node name="Lobo6" parent="Lobos" instance=ExtResource( 11 )]
position = Vector2( -745.315, -1311.04 )
speed_mult = 0

[node name="Lobo7" parent="Lobos" instance=ExtResource( 11 )]
position = Vector2( -747.315, -1076.52 )
speed_mult = 0
size = 2

[node name="Lobo8" parent="Lobos" instance=ExtResource( 11 )]
position = Vector2( -752.723, -844.091 )
speed_mult = 0

[node name="Lobo" parent="Lobos" instance=ExtResource( 11 )]
position = Vector2( 669.581, -597.537 )
speed_mult = 0
size = 3

[node name="Ship" parent="Lobos" instance=ExtResource( 11 )]
position = Vector2( 522.905, -931.479 )
speed_mult = 0
size = 2

[node name="Lobo2" parent="Lobos" instance=ExtResource( 11 )]
position = Vector2( 246.942, -475.924 )
speed_mult = 0
size = 2

[node name="CollisionLimits" type="StaticBody2D" parent="."]
position = Vector2( 3000, 3000 )
collision_layer = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="CollisionLimits"]
position = Vector2( -524.872, 16.0844 )
shape = SubResource( 5 )

[node name="CollisionShape2D2" type="CollisionShape2D" parent="CollisionLimits"]
position = Vector2( 616.958, 32.8824 )
shape = SubResource( 6 )

[node name="CollisionShape2D3" type="CollisionShape2D" parent="CollisionLimits"]
position = Vector2( 46.5002, 419.675 )
shape = SubResource( 7 )

[node name="CollisionShape2D4" type="CollisionShape2D" parent="CollisionLimits"]
position = Vector2( 45.4183, -421.526 )
shape = SubResource( 7 )

[connection signal="body_entered" from="Boat/Area2D" to="Boat" method="_on_Area2D_body_entered"]
[connection signal="body_exited" from="Boat/Area2D" to="Boat" method="_on_Area2D_body_exited"]
[connection signal="back_menu" from="GameOverUI" to="." method="_on_GameOverUI_back_menu"]
[connection signal="ok_pressed" from="GameOverUI" to="." method="_on_GameOverUI_ok_pressed"]
[connection signal="dialog_terminated" from="UI/DialogUI" to="." method="_on_Control_dialog_terminated"]
[connection signal="body_entered" from="AreaMarAbierto" to="Boat" method="_on_AreaMarAbierto_body_entered"]
